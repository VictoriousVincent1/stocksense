<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StockSense - Charts</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 min-h-screen p-6">
  <div class="max-w-7xl mx-auto space-y-6">

    <!-- Header Section -->
    <div class="bg-gray-800 rounded-2xl p-6 shadow-xl border border-gray-700">
      <div class="flex items-start justify-between">
        <div>
          <h1 class="text-4xl font-bold text-white mb-2">AAPL</h1>
          <p class="text-gray-400">Apple Inc.</p>
        </div>
        <div class="text-right">
          <div class="text-4xl font-bold text-white" id="currentPrice">$155.23</div>
          <div class="flex items-center justify-end gap-2 mt-2 text-green-400" id="priceChange">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
              <polyline points="17 6 23 6 23 12"></polyline>
            </svg>
            <span class="text-lg font-semibold">+5.23 (+3.48%)</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Metrics Grid -->
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
      <div class="bg-gray-800 rounded-xl p-4 border border-gray-700 hover:border-gray-600 transition-all">
        <div class="text-gray-400 text-sm mb-2">Open</div>
        <div class="text-white text-xl font-bold">$150.23</div>
      </div>
      <div class="bg-gray-800 rounded-xl p-4 border border-gray-700 hover:border-gray-600 transition-all">
        <div class="text-gray-400 text-sm mb-2">High</div>
        <div class="text-white text-xl font-bold">$165.89</div>
      </div>
      <div class="bg-gray-800 rounded-xl p-4 border border-gray-700 hover:border-gray-600 transition-all">
        <div class="text-gray-400 text-sm mb-2">Low</div>
        <div class="text-white text-xl font-bold">$148.12</div>
      </div>
      <div class="bg-gray-800 rounded-xl p-4 border border-gray-700 hover:border-gray-600 transition-all">
        <div class="text-gray-400 text-sm mb-2">Volume</div>
        <div class="text-white text-xl font-bold">2.3M</div>
      </div>
      <div class="bg-gray-800 rounded-xl p-4 border border-gray-700 hover:border-gray-600 transition-all">
        <div class="text-gray-400 text-sm mb-2">Market Cap</div>
        <div class="text-white text-xl font-bold">$2.1T</div>
      </div>
      <div class="bg-gray-800 rounded-xl p-4 border border-gray-700 hover:border-gray-600 transition-all">
        <div class="text-gray-400 text-sm mb-2">P/E Ratio</div>
        <div class="text-white text-xl font-bold">28.5</div>
      </div>
    </div>

    <!-- Chart Controls and Display -->
    <div class="bg-gray-800 rounded-2xl p-6 shadow-xl border border-gray-700">
      <div class="flex flex-wrap items-center justify-between gap-4 mb-6">
        <!-- Timeframe Selector -->
        <div class="flex gap-2">
          <button onclick="changeTimeframe('1D')"
            class="timeframe-btn px-4 py-2 rounded-lg font-semibold bg-blue-600 text-white"
            data-timeframe="1D">1D</button>
          <button onclick="changeTimeframe('1W')"
            class="timeframe-btn px-4 py-2 rounded-lg font-semibold bg-gray-700 text-gray-300 hover:bg-gray-600"
            data-timeframe="1W">1W</button>
          <button onclick="changeTimeframe('1M')"
            class="timeframe-btn px-4 py-2 rounded-lg font-semibold bg-gray-700 text-gray-300 hover:bg-gray-600"
            data-timeframe="1M">1M</button>
          <button onclick="changeTimeframe('1Y')"
            class="timeframe-btn px-4 py-2 rounded-lg font-semibold bg-gray-700 text-gray-300 hover:bg-gray-600"
            data-timeframe="1Y">1Y</button>
        </div>

        <!-- Chart Type Selector -->
        <div class="flex gap-2">
          <button onclick="changeChartType('line')"
            class="chart-type-btn px-4 py-2 rounded-lg font-semibold bg-green-600 text-white"
            data-type="line">Line</button>
          <button onclick="changeChartType('bar')"
            class="chart-type-btn px-4 py-2 rounded-lg font-semibold bg-gray-700 text-gray-300 hover:bg-gray-600"
            data-type="bar">Bar</button>
          <button onclick="changeChartType('area')"
            class="chart-type-btn px-4 py-2 rounded-lg font-semibold bg-gray-700 text-gray-300 hover:bg-gray-600"
            data-type="area">Area</button>
        </div>
      </div>

      <!-- Price Chart -->
      <div class="bg-gray-900 rounded-xl p-4">
        <canvas id="priceChart" height="100"></canvas>
      </div>
    </div>

    <!-- Volume Chart -->
    <div class="bg-gray-800 rounded-2xl p-6 shadow-xl border border-gray-700">
      <h3 class="text-xl font-bold text-white mb-4">Trading Volume</h3>
      <div class="bg-gray-900 rounded-xl p-4">
        <canvas id="volumeChart" height="60"></canvas>
      </div>
    </div>

  </div>

  <script>
    let currentTimeframe = '1D';
    let currentChartType = 'line';
    let priceChart, volumeChart;

    // Mock data generator
    const mockData = {
      '1D': {
        labels: Array.from({ length: 24 }, (_, i) => `${i}:00`),
        prices: Array.from({ length: 24 }, () => 150 + Math.random() * 10)
      },
      '1W': {
        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
        prices: Array.from({ length: 7 }, () => 150 + Math.random() * 15)
      },
      '1M': {
        labels: Array.from({ length: 30 }, (_, i) => `Day ${i + 1}`),
        prices: Array.from({ length: 30 }, () => 150 + Math.random() * 25)
      },
      '1Y': {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        prices: Array.from({ length: 12 }, () => 150 + Math.random() * 50)
      }
    };

    function createPriceChart() {
      const ctx = document.getElementById('priceChart').getContext('2d');
      const data = mockData[currentTimeframe];

      if (priceChart) {
        priceChart.destroy();
      }

      const isPositive = data.prices[data.prices.length - 1] > data.prices[0];
      const color = isPositive ? '#10B981' : '#EF4444';

      const config = {
        type: currentChartType,
        data: {
          labels: data.labels,
          datasets: [{
            label: 'Price',
            data: data.prices,
            borderColor: color,
            backgroundColor: currentChartType === 'line' ? 'transparent' : color + '80',
            borderWidth: 3,
            fill: currentChartType === 'area',
            tension: 0.4,
            pointRadius: 0,
            pointHoverRadius: 6,
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              backgroundColor: '#1F2937',
              titleColor: '#fff',
              bodyColor: color,
              borderColor: '#374151',
              borderWidth: 1,
              callbacks: {
                label: (context) => `$${context.parsed.y.toFixed(2)}`
              }
            }
          },
          scales: {
            x: {
              grid: {
                color: '#374151',
                drawBorder: false
              },
              ticks: {
                color: '#9CA3AF'
              }
            },
            y: {
              grid: {
                color: '#374151',
                drawBorder: false
              },
              ticks: {
                color: '#9CA3AF',
                callback: (value) => `$${value.toFixed(0)}`
              }
            }
          }
        }
      };

      priceChart = new Chart(ctx, config);
    }

    function createVolumeChart() {
      const ctx = document.getElementById('volumeChart').getContext('2d');
      const data = mockData[currentTimeframe];
      const volumes = data.labels.map(() => Math.floor(Math.random() * 5000000));

      if (volumeChart) {
        volumeChart.destroy();
      }

      volumeChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: data.labels,
          datasets: [{
            label: 'Volume',
            data: volumes,
            backgroundColor: '#3B82F6',
            borderRadius: 4,
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              backgroundColor: '#1F2937',
              titleColor: '#fff',
              bodyColor: '#3B82F6',
              borderColor: '#374151',
              borderWidth: 1,
              callbacks: {
                label: (context) => `${(context.parsed.y / 1000000).toFixed(2)}M`
              }
            }
          },
          scales: {
            x: {
              grid: {
                color: '#374151',
                drawBorder: false
              },
              ticks: {
                color: '#9CA3AF'
              }
            },
            y: {
              grid: {
                color: '#374151',
                drawBorder: false
              },
              ticks: {
                color: '#9CA3AF',
                callback: (value) => `${(value / 1000000).toFixed(1)}M`
              }
            }
          }
        }
      });
    }

    function changeTimeframe(timeframe) {
      currentTimeframe = timeframe;
      document.querySelectorAll('.timeframe-btn').forEach(btn => {
        if (btn.dataset.timeframe === timeframe) {
          btn.className = 'timeframe-btn px-4 py-2 rounded-lg font-semibold bg-blue-600 text-white';
        } else {
          btn.className = 'timeframe-btn px-4 py-2 rounded-lg font-semibold bg-gray-700 text-gray-300 hover:bg-gray-600';
        }
      });
      createPriceChart();
      createVolumeChart();
    }

    function changeChartType(type) {
      currentChartType = type;
      document.querySelectorAll('.chart-type-btn').forEach(btn => {
        if (btn.dataset.type === type) {
          btn.className = 'chart-type-btn px-4 py-2 rounded-lg font-semibold bg-green-600 text-white';
        } else {
          btn.className = 'chart-type-btn px-4 py-2 rounded-lg font-semibold bg-gray-700 text-gray-300 hover:bg-gray-600';
        }
      });
      createPriceChart();
    }

    // Initialize charts
    createPriceChart();
    createVolumeChart();
  </script>
</body>

</html>